# Render Deployment Setup Guide

## Step 1: Connect GitHub Repository to Render

1. Go to [Render Dashboard](https://dashboard.render.com/)
2. Click "New +" → "Web Service"
3. Connect your GitHub account if not already connected
4. Select your repository: `legacycricketacademy/my-app`
5. Choose the branch: `agent/create-pr-for-render-build-fixes-drizzle-selectedfields-agegroup-enums-vite-ts-config-stabilization`

## Step 2: Configure Web Service

**Basic Settings:**
- Name: `legacy-cricket-academy`
- Environment: `Node`
- Region: `Oregon (US West)`
- Branch: `agent/create-pr-for-render-build-fixes-drizzle-selectedfields-agegroup-enums-vite-ts-config-stabilization`

**Build & Deploy:**
- Root Directory: `/` (leave empty)
- Build Command: `npm ci && npm run build`
- Start Command: `npm start`

**Environment Variables:**
```
NODE_ENV=production
DATABASE_URL=<will be provided by Render PostgreSQL>
SENDGRID_API_KEY=your_sendgrid_key_here
SENDGRID_FROM_EMAIL=noreply@legacycricketacademy.com
KEYCLOAK_ENABLED=false
SESSION_SECRET=<auto-generated>
PORT=10000
```

## Step 3: Create PostgreSQL Database

1. In Render Dashboard, click "New +" → "PostgreSQL"
2. Name: `legacy-cricket-db`
3. Database: `legacycricket`
4. User: `legacycricket_user`
5. Region: `Oregon (US West)`

## Step 4: Update Environment Variables

After creating the database:
1. Copy the `DATABASE_URL` from the PostgreSQL service
2. Paste it into your web service environment variables
3. Save the configuration

## Step 5: Deploy

1. Click "Create Web Service"
2. Render will automatically:
   - Clone your repository
   - Install dependencies (`npm ci`)
   - Build the application (`npm run build`)
   - Start the server (`npm start`)
   - Run database migrations

## Step 6: Test Deployment

Once deployed, your app will be available at:
`https://legacy-cricket-academy.onrender.com`

## Troubleshooting

If deployment fails:
1. Check the build logs in Render dashboard
2. Ensure all environment variables are set
3. Verify the database connection
4. Check that the build command completes successfully

## Auto-Deploy Setup

Once connected, Render will automatically deploy when you:
1. Push to the main branch
2. Merge pull requests
3. Manually trigger deployments from the dashboard
